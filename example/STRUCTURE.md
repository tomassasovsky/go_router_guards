# Project Structure

This document describes the folder structure of the simple example app.

## Overview

The app uses a simple, flat structure with clear organization:

```
lib/
├── guards/                            # Route guard implementations
│   ├── auth_guard.dart               # Authentication guards
│   ├── permission_guard.dart         # Permission-based guards
│   └── role_guard.dart               # Role-based guards
│
├── screens/                           # All app screens
│   ├── auth/                          # Authentication screens
│   │   ├── login_screen.dart
│   │   └── unauthorized_screen.dart
│   ├── home/                          # Home screen
│   │   └── home_screen.dart
│   └── protected/                     # Protected screens
│       ├── base_protected_screen.dart
│       ├── profile_screen.dart
│       ├── admin_screen.dart
│       ├── premium_screen.dart
│       ├── settings_screen.dart
│       ├── reports_screen.dart
│       ├── dashboard_screen.dart
│       ├── info_screen.dart
│       └── secret_info_screen.dart
│
├── state/                             # State management (Cubits)
│   ├── auth_cubit.dart               # Authentication state
│   └── user_cubit.dart               # User roles & permissions
│
├── widgets/                           # Reusable widgets
│   └── route_button.dart             # Navigation button
│
├── app_router.dart                    # Route definitions
├── app_router.g.dart                  # Generated route code
└── main.dart                          # App entry point
```

## Architecture Principles

### 1. Flat & Simple

- Everything at the root level of `lib/`
- Easy to navigate and find files
- No deep nesting

### 2. Organized by Type

- **guards/** - All guard implementations
- **screens/** - All UI screens (organized by feature)
- **state/** - All state management
- **widgets/** - Reusable UI components

### 3. Co-located by Feature (within screens/)

- Authentication screens in `screens/auth/`
- Home screen in `screens/home/`
- Protected screens in `screens/protected/`

## File Naming Conventions

- **Screens**: `*_screen.dart` (e.g., `home_screen.dart`)
- **Widgets**: `*_widget.dart` or descriptive names (e.g., `route_button.dart`)
- **Cubits**: `*_cubit.dart` (e.g., `auth_cubit.dart`)
- **Guards**: `*_guard.dart` (e.g., `auth_guard.dart`)
- **Routes**: `app_router.dart` (main routing file)

## Import Conventions

Use absolute imports with the package name:

```dart
// ✅ Good
import 'package:simple_example/app_router.dart';
import 'package:simple_example/state/auth_cubit.dart';
import 'package:simple_example/screens/home/home_screen.dart';
import 'package:simple_example/guards/auth_guard.dart';
```

## Key Benefits

1. **Simplicity**: Flat structure, easy to understand
2. **Quick Navigation**: Everything is at the root level
3. **Clear Organization**: Grouped by type (guards, screens, state, widgets)
4. **Maintainable**: Easy to add new files
5. **No Overhead**: No complex folder hierarchies

## Adding New Features

To add a new feature:

1. Add screens to `screens/` (e.g., `screens/settings/`)
2. Add guards to `guards/` if needed
3. Add state to `state/` if needed
4. Add route definition in `app_router.dart`
5. Run `dart run build_runner build` to generate routes

## Adding New Guards

To add a new guard type:

1. Create guard file in `guards/` (e.g., `subscription_guard.dart`)
2. Extend `RouteGuard` from `go_router_guards`
3. Implement the `onNavigation` method
4. Use in route definitions in `app_router.dart`

## State Management

This example uses **Cubit** from the `flutter_bloc` package:

- `AuthCubit`: Manages authentication state
- `UserCubit`: Manages user roles and permissions

Cubits are provided at the app level in `main.dart` and accessed via `context.read<>()` in guards and `BlocBuilder<>()` in UI.

## Routing

- **app_router.dart**: Contains all route definitions with type-safe routes
- **app_router.g.dart**: Auto-generated by `build_runner`

Routes use the `@TypedGoRoute` annotation and mixin pattern with guards.
